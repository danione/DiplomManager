{% extends 'base.html' %}


{% block title %}Listing{% endblock %}

{% block extra_head %}
  {% load static %}
  <link rel="stylesheet" type="text/css" href="{% static 'other_pages_other/container_css.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'other_pages_other/listing.css' %}">


{% endblock %}

{% block content %}
  {% load static %}

  <script src="{% static 'other_pages_other/container_js.js' %}"></script>
  <h1>Listing</h1>
  <div class="option-buttons">
    <table class="table" id="listing">
      <tr>
        <td><div class="students">Students</div></td>
        <td><div class="management">Management and Review</div></td>
        <td><div class="thesis">Thesis</div></td>
        <td><div class="commissions">Commissions</div></td>
      </tr>
    </table>
  </div>
  <div class="options">
    {% if students %}
    <div class="table-des students-listing">
      <table>
        <thead>
          <tr>
            <th>Number</th>
            <th>Name</th>
            <th>Class</th>
            <th>See more</th>
          </tr>
        </thead>
        <tbody>
            {% for student in students %}
            <tr>
              <td>{{ student.number }}</td>
              <td>{{ student.name }}</td>
              <td>{{ student.class_char }}</td>
              <td>Click</td>
            </tr>
            <tr>
              <td colspan="4" class="border">
                <div class="box">
                  <hr>
                </div>

              </td>
            </tr>
            <tr class="information-row">
              <td colspan="4" class="information-cell">
                <div class="information">
                  <div class="first_row">
                    <span class="heading_row">Number:</span>
                    {{ student.number }}<br>
                    <span class="heading_row">Name:</span>
                    {{ student.name }}<br>
                    <span class="heading_row">Class:</span>
                    {{ student.class_char }}<br>
                    <span class="heading_row">Progress:</span>
                    {{ student.progress }}<br>
                    <span class="heading_row">Did hand the document:</span>
                    {{ student.handed_document_over }}<br>
                    <span class="heading_row">Did hand the assignment:</span>
                    {{ student.handed_assignment_over }}<br>
                    <span class="heading_row">Did hand the documentation:</span>
                    {{ student.handed_documentation_over }}<br>
                  </div>
                  <div class="second_row">
                    <span class="heading_row">Class Type:</span>
                    {{ student.category }}<br>
                    {% if student.current_thesis %}

                      <span class="heading_row">Assigned Supervisor:</span>
                      {{ student.current_thesis.supervisor }}<br>

                      <span class="heading_row">Thesis:</span>
                      {{ student.current_thesis }}<br>

                    {% endif %}

                    {% if student.assigned_reviewer %}
                      <span class="heading_row">Assigned Reviewer:</span>
                      {{ student.assigned_reviewer }}<br>
                    {% endif %}

                    <span class="heading_row">Current Period Of Studying:</span>
                    {{ student.study_period }}<br>

                    {% if student.choice_set.all %}
                      {% for choice in student.choice_set.all %}
                        <span class="heading_row">Choice {{ choice.number }} :</span>
                        {{ choice.thesis }}<br>

                      {% endfor %}
                    {% endif %}

                    {% if student.commission %}
                      <span class="heading_row">Commission:</span>
                        {{ student.commission.name }}<br>
                    {% endif %}


                  </div>
                </div>
              </td>
            </tr>
            {% endfor %}
        </tbody>
      </table>
    </div>
    {% endif %}
    {% if man_review %}
    <div class="table-des management-listing">
      <table>
        <thead>
          <tr>
            <th>Titles</th>
            <th>Name</th>
            <th>Category</th>
            <th>See more</th>
          </tr>
        </thead>
        <tbody>
            {% for person in man_review %}
            <tr>
              <td>{{ person.titles }}</td>
              <td>{{ person.name }}</td>
              <td>{{ person.category }}</td>
              <td>Click</td>
            </tr>
            <tr>
              <td colspan="4" class="border">
                <div class="box">
                  <hr>
                </div>
              </td>
            </tr>
            <tr class="information-row">
              <td colspan="4" class="information-cell">
                <div class="information">
                  <div class="first_row">
                    <span class="heading_row">Personal Titles:</span>
                    {{ person.titles }}<br>
                    <span class="heading_row">Name:</span>
                    {{ person.name }}<br>
                    <span class="heading_row">Speciality:</span>
                    {{ person.category }}<br>
                    <span class="heading_row">Workplace:</span>
                    {{ person.workplace }}<br>
                    <span class="heading_row">Did hand the document:</span>
                    {{ student.handed_document_over }}<br>

                    {% if person.reviewer.all %}
                      <span class="heading_row">Reviewer to :</span><br>
                      {% for student in person.reviewer.all %}
                        {{ student.name }}<br>
                      {% endfor %}


                      <span class="heading_row">Sum :</span>
                      {% if person.reviewer.all.count == 1 %}
                        {{ person.reviewer.all.count }} student<br>
                      {% else %}
                        {{ person.reviewer.all.count }} students<br>
                      {% endif %}

                    {% endif %}



                    {% if person.commission_set.all or person.commissioners.all %}
                      <span class="heading_row">In :</span>
                      {{ person.commission_set.all.count}} commissions - chairman<br>
                      {{ person.commissioners.all.count}} commissions - commissioner<br>

                    {% endif %}

                  </div>
                  <div class="second_row">
                    {% if person.supervisor.all %}
                      <span class="heading_row">Supervisor to :</span><br>
                      {% for student in person.supervisor.all %}
                        {{ student.name }}<br>
                      {% endfor %}

                      <span class="heading_row">Sum:</span>
                      {% if person.supervisor.all.count == 1 %}
                        {{ person.supervisor.all.count }} student<br>
                      {% else %}
                        {{ person.supervisor.all.count }} students<br>
                      {% endif %}
                    {% endif %}


                    {% if person.thesis_set.all %}
                    <span class="heading_row">Thesis Descriptions:</span><br>
                      {% for thesis in person.thesis_set.all %}
                        {{ thesis.name }}<br>

                      {% endfor %}
                    {% endif %}



                  </div>
                </div>
              </td>
            </tr>
            {% endfor %}
        </tbody>
      </table>
    </div>
    {% endif %}
    {% if thesis_topics %}
    <div class="table-des thesis-listing">
      <table>
        <thead>
          <tr>
            <th>Description</th>
            <th>Category</th>
            <th>Teacher</th>
            <th>See more</th>
          </tr>
        </thead>
        <tbody>
            {% for thesis in thesis_topics %}
            <tr>
              <td>{{ thesis.name }}</td>
              <td>{{ thesis.category }}</td>
              <td>{{ thesis.supervisor }}</td>
              <td>Click</td>
            </tr>
            <tr>
              <td colspan="4" class="border">
                <div class="box">
                  <hr>
                </div>
              </td>
            </tr>
            <tr class="information-row">
              <td colspan="4" class="information-cell">
                <div class="information">
                  <div class="first_row">
                    <span class="heading_row">Description:</span>
                    {{ thesis.name }}<br>
                    <span class="heading_row">Type:</span>
                    {{ thesis.category }}<br>
                    <span class="heading_row">Assigned Supervisor:</span>
                    {{ thesis.supervisor }}<br>
                    </div>
                  <div class="second_row">

                    {% if thesis.student_set.all %}
                      <span class="heading_row">Assigned to :</span><br>
                      {% for student in thesis.student_set.all %}
                        {{ student.name }}<br>
                      {% endfor %}
                    {% endif %}

                  </div>
                </div>
              </td>
            </tr>
            {% endfor %}
        </tbody>
      </table>
    </div>
    {% endif %}

    {% if commissions %}
    <div class="table-des commissions-listing">
      <table>
        <thead>
          <tr>
            <th>Type</th>
            <th>Place</th>
            <th>Date</th>
            <th>See more</th>
          </tr>
        </thead>
        <tbody>
            {% for commission in commissions %}
            <tr>
              <td>{{ commission.category }}</td>
              <td>{{ commission.place }}</td>
              <td>{{ commission.date}} {{ commission.time}} </td>
              <td>Click</td>
            </tr>
            <tr>
              <td colspan="4" class="border">
                <div class="box">
                  <hr>
                </div>
              </td>
            </tr>
            <tr class="information-row">
              <td colspan="4" class="information-cell">
                <div class="information">
                  <div class="first_row">
                    <span class="heading_row">Chairman:</span>
                    {{ commission.chairman }}<br>
                    <span class="heading_row">Commissioners:</span><br>
                      {% for commissioner in commission.commissioners.all %}
                        {{ commissioner.name }}<br>
                      {% endfor %}
                    <span class="heading_row">Type:</span>
                    {{ commission.category }}<br>
                    <span class="heading_row">Place:</span>
                    {{ commission.place }}<br>
                    <span class="heading_row">When:</span>
                    {{ commission.date }} {{ commission.time }}<br>
                  </div>

                  <div class="second_row">
                    <span class="heading_row">Students:</span><br>
                      {% for student in commission.commission.all %}
                        {{ student.name }}<br>
                      {% endfor %}
                  </div>
                </div>
              </td>
            </tr>
            {% endfor %}
        </tbody>
      </table>
    </div>
    {% endif %}
  </div>
</div>

<script src="{% static 'other_pages_other/container_js.js' %}"></script>
<script src="{% static 'other_pages_other/listing.js' %}"></script>




{% endblock %}
